
# Demo of Raise to the TOP

## Table of Contents
* [About the Project](#about-the-project)  
* [Prerequisites](#prerequisites)
    * [Tools](#tools)
    * [Python Dependency](#python-dependency)
    * [Create PostgreSQL Database](#create-postgresql-database)

## About The Project
The main task of this project is to demo the Raise to the Top (R2T) system and the experiments in paper of SIGMOD 2022. More precisely,
+ Demo the R2T system;
+ Demo baseline algorithms: naive truncation with smooth sensitivity (NT), smooth distance estimator (SDE), LP-based mechanism (LP), recursive mechansim (RM) and local-sensitivity based mechanism (LS).
+ Demo how to collect experimental results shown in our paper.

The file structure is as below
```
project
│   README.md
└───Code
└───Figure
└───Information
│   └───Graph
│   └───TPCH
└───Query
└───Result
│   └───Graph
│   └───TPCH
└───Script
└───Temp
```
`./Code` stores the codes.
`./Figure` stores the figures used in the paper.
`./Information` stores the information between base table tuples and joined results for all queries.
* `./Information/Graph` and `./Information/TPCH` store the information for sub-graph counting querie and TPCH querys repectively.

`./Query` stores the queries used in the experiments of the paper.
`./Result` stores the results used in the experiments of the paper.
* `./Result/Graph` and `./Result/TPCH` store the results for sub-graph counting querie and TPCH querys repectively.

`./Script` stores the scripts used in the experiments of the paper.
`./Temp` is used to store tempoaray files generated by programs.


## Prerequisites
### Tools
Before running this project, please install below tools
* [PostgreSQL](https://www.postgresql.org/)
* [Python3](https://www.python.org/download/releases/3.0/)
* [Cplex](https://www.ibm.com/analytics/cplex-optimizer)

Please do not install `Cplex` dependency, which can only handle small dataset, but download the `Cplex API` and import that to python with this [instruction](https://www.ibm.com/docs/zh/icos/12.9.0?topic=cplex-setting-up-python-api).

### Python Dependency
Here are dependencies used in python codes:
* `matplotlib`
* `numpy`
* `sys`
* `getopt`
* `os`
* `math`
* `psycopg2`

### Create PostgreSQL Database

#### Import Data
